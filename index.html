<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
    <title>主页</title>
    <link rel="stylesheet" href="//cdn.bootcss.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css">
    <link href="//netdna.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <link rel="stylesheet" href="public/code.css">
</head>
<style>
    body,html{
        margin:0;
        padding:0;
        font-family: '微软雅黑',sans-serif;
        width:100%;
        overflow-x: hidden;
    }
    header{
        width:100%;
        height:50px;
        background:#666;
        line-height:50px;
        color:#fff;
        position: relative;
        z-index:10;
    }
    header .welcome,.menu{
        float:left;
        width:50%;
    }
    header a{
        padding:10px;
        color:#fff;
    }
    ul,li{
        list-style: none;
        text-decoration: none;
    }
    @media screen and (max-width:768px){
        header .menu{
            display: none;
            background:#666;
            width:auto;
        }
    }
    .fa{
       font-size:1.2em;
    }
</style>
<body ng-app="index" ng-controller="indexCtrl">
    <header>
        <div class="container">
            <div class="welcome">欢迎来到 龙 的技术博客</div>
            <div data-cl-menu="true"></div>
            <div class="menu"><a href="index.html">主页</a><a href="">没想好</a></div>
        </div>
    </header>
    <div class="container">
        <article class="doc">
            <div>文档</div>
            <ul>
                <li ng-repeat="content in list"> <a href="article/article.html?id={{$index+1}}">{{switchType(content.type)}}{{content.title}}</a></li>
            </ul>
        </article>
        <article>
            <div>小玩意儿</div>
        </article>
    </div>

</body>
<script src="//cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script>
<script src="//cdn.bootcss.com/angular.js/1.6.3/angular.min.js"></script>
<script src="public/articleData.js"></script>
<script>
    /* 菜单 mobile */
    (function(){
        /* 首先判断是否有 jQuery ，没有不能使用 */
        if(typeof jQuery == typeof void(0)){
            console.info('Method of menu mobile requires jQuery.');
            return false;
        }
        /* 判断是否引用了 requirejs ，没有的话，也可以直接使用 */
        typeof define == typeof void(0) ?  (menuMobile(jQuery)) : (define(['jquery'],menuMobile));
        function menuMobile($){
            (function($){
                $.menuMobile = function(option){
                    var menuShow = true;
                    var $parent = $('*[data-cl-menu="true"]'),
                        opt = {
                            icon:'fa-bars', //支持fa图标库
                            content:[
                              ['index.html','主页'],
                              ['index.html','主页'],
                              ['index.html','主页'],
                              ['index.html','主页'],
                              ['index.html','主页'],
                              ['index.html','主页']
                            ],//二维数组格式，第一项为链接地址，第二项为名称
                            bgColor:'#666'
                        };
                    var content ='';
                    for(var i = 0;i < opt.content.length;i++){
                        content += '<li><a href="'+opt.content[i][0]+'">'+opt.content[i][1]+'</a></li>';
                    }
                    content = '<ul id="cl-li" data-menu-show="false">'+content+'</ul>';
                    $parent.html('<span id="cl-ul" class="fa '+opt.icon+'"></span>' + content);
                    $parent.css({
                        'text-align':'right',
                        position:'relative'
                    });
                    var $ul = $('#cl-ul'),
                        $li = $('#cl-li');
                    $li.css({
                        padding:0,
                        height:$(window).height(),
                        background:opt.bgColor,
                        display:'none',
                        position:'relative',
                        right:-$(window).width()
                    });
                    $ul.off('click').on('click',function(){
                        function getCss(dis,time){
                            return {
                                'transform':'translate3d(' + dis + 'px,0,0)',
                                'transition':'all '+time+'ms',
                                '-webkit-transform':'translate3d(' + dis + 'px,0,0)',
                                '-webkit-transition':'all '+time+'ms',
                                '-moz-transform':'translate3d(' + dis + 'px,0,0)',
                                '-moz-transition':'all '+time+'ms',
                                '-ms-transform':'translate3d(' + dis + 'px,0,0)',
                                '-ms-transition':'all '+time+'ms'};
                        }
                        var dis = -$(window).width()+15,time = 500;
                        if(menuShow){
                            menuShow = false;
                            if(!$li.data('menu-show')){
                                $li.show().data('menu-show',true).css(getCss(dis,time));
                                setTimeout(function(){menuShow = true;},time);
                            }else{
                                $li.show().css(getCss(0,time)).data('menu-show',false);
                                setTimeout(function(){menuShow = true;},time);
                            }
                        }
                    });
                }
            })(jQuery);
        }
    })();
    $.menuMobile({a:1,b:2});

    /**************************************************************/
    var app = angular.module('index',[]);
    app.controller('indexCtrl',function($scope,$http){
        var request = $http({
            url:'public/articleData/articleList.json',
            method:'get'
        });
        request.then(function(res){
            $scope.list = res.data;
        });
        $scope.switchType = function(type){
            switch(type){
                case 1:return '【jQuery】';
                case 2:return '【AngularJS】';
                case 4:return '【React】';
                case 8:return '【Vue】';
                case 16:return '【原生JS】';
                case 32:return '【CSS】';
                case 64:return '【HTML】';
                case 128:return '【微信小程序】';
                case 256:return '【插件】';
                case 512:return '【其他】';
            }
        };
    });
</script>
</html>