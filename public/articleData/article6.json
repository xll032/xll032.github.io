{
  "title":"$.proxy()函数的this指向",
  "type":1,
  "time":"2016/10/9 11:07",
  "content":
  "<p>使用计时器里面的this指向点击的元素的写法如下：</p><pre class='code'><span class='spe'>$</span><span class='word'>(</span><span class='str'>'</span><span class='key'>#myElement</span><span class='str'>'</span><span class='word'>).</span><span class='method'>click</span><span class='word'>(</span><span class='key'>function</span><span class='word'>()</span><span class='flower'>{</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class='key'>var</span> <span class='param'>that</span> <span class='key'>=</span> <span class='key'>this</span><span class='word'>;</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class='method'>setTimeout</span><span class='word'>(</span><span class='key'>function</span><span class='word'>()</span><span class='flower'>{</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='spe'>$</span><span class='word'>(</span><span class='param'>that</span><span class='word'>).</span><span class='method'>addClass</span><span class='word'>(</span><span class='str'>'aNewClass'</span><span class='word'>);</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class='flower'>}</span><span class='word'>,</span><span class='word'>1000);</span><br><span class='flower'>}</span><span class='word'>);</span></pre><p>在使用jQuery时，可以使用$.proxy(context,name)方法</p><p>context可以是对象，函数等；name是传入的操作参数</p><p>以上述方法为例：</p><pre class='code'><span class='spe'>$</span><span class='word'>(</span><span class='str'>'#myElement'</span><span class='word'>).</span><span class='method'>click</span><span class='word'>(</span><span class='key'>function</span><span class='word'>()</span><span class='flower'>{</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class='method'>setTimeout</span><span class='word'>(</span><span class='spe'>$</span><span class='word'>.</span><span class='method'>proxy</span><span class='word'>(</span><span class='key'>function</span><span class='word'>()</span><span class='flower'>{</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='spe'>$</span><span class='word'>(</span><span class='key'>that</span><span class='word'>).</span><span class='method'>addClass</span><span class='word'>(</span><span class='str'>'aNewClass'</span><span class='word'>);</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class='flower'>}</span><span class='word'>,</span><span class='key'>this</span><span class='word'>),</span><span class='word'>1000);</span><br><span class='flower'>}</span><span class='word'>);</span></pre><p>修改属性的时候也可以使用。BTW：感觉还是用 var that = this；舒服</p>"
}